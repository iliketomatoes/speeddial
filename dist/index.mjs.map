{"version":3,"file":null,"sources":["../lib/utils.js","../lib/speeddial.js","../lib/index.js"],"sourcesContent":["/**\n* Deep-extends an object with another object\n*\n* @param { Object } a The object that will be extended, then returned\n* @param { Object } b The object that will extend the first paramter\n* @return { Object }\n*/\nexport function extend(a, b) {\n    for (var key in b) {\n        if (b.hasOwnProperty(key)) {\n            if (typeof b[key] === 'object' && b[key] !== null) {\n                a[key] = extend(a[key], b[key]);\n            } else {\n                a[key] = b[key];\n            }\n        }\n    }\n    return a;\n}\n\n/**\n* Utility function that throws an error if querySelector returns null\n*\n* @param { String } selector\n* @param { HTMLElement } context If not specified the default context is the\n*   whole document\n* @return { HTMLElement }\n*/\nexport function getElement(selector, context) {\n    let where = context || document;\n    let element = where.querySelector(selector);\n    try {\n        if (element === null) throw new Error('SpeedDial could not find any ${selector}');\n    } catch (err) {\n        console.log(err.message);\n    } finally {\n        return element;\n    }\n}\n","import { extend, getElement } from './utils';\n\n// Default settings\nvar defaults = {\n\n    // The actual speed dial button default class\n    button: '.speed-dial__btn',\n\n    // Default list of options class\n    list: '.speed-dial__list',\n\n    // Default list of options direction\n    direction: 'up'\n};\n\nexport const SpeedDial = {\n    /**\n    * Method called for initializing a new instance of SpeedDial\n    *\n    * @param { String } selector This is the selector\n    *   of the speed dial button container\n    * @param { Object } options Object to override the default settings\n    */\n    init: function(selector, options) {\n\n        // Override defauls\n        this.settings = extend(defaults, options);\n\n        /**\n        * Get the HTMLElement which contains both the button\n        *    and the list of options\n        */\n        this.container = getElement(selector);\n\n        if (this.container) {\n            this.bindEvents();\n            this.setDirection(this.settings.direction);\n        }\n    },\n\n    /**\n    * Get the container\n    *\n    * @return { HTMLElement }\n    */\n    getContainer: function() {\n    \treturn this.container;\n    },\n\n    /**\n    * Get the button which triggers the list of options to open/close\n    *\n    * @return { HTMLElement }\n    */\n    getButton: function() {\n        return getElement(this.settings.button, this.container);\n    },\n\n    /**\n    * Get the list which contains the speed dial options\n    *\n    * @return { HTMLElement }\n    */\n    getList: function() {\n        return getElement(this.settings.list, this.container);\n    },\n\n    // Add click listener to the speed-dial button\n    bindEvents: function() {\n        var btn = this.getButton();\n        btn.addEventListener('click', this.clickHandler.bind(this));\n    },\n\n    // Method called when speed-dial button is clicked\n    clickHandler: function() {\n    \tvar listEl = this.getList();\n\n\t\tif (listEl.classList.contains('is-visible')) {\n            // Close the list of options\n\t    \tlistEl.classList.remove('is-visible');\n\t\t} else {\n            // Open the list of options\n\t\t\tlistEl.classList.add('is-visible');\n\t\t}\n    },\n\n    // Close the list of options\n    close: function() {\n    \tvar listEl = this.getList();\n    \tlistEl.classList.remove('is-visible');\n    },\n\n    // Open the list of options\n    open: function() {\n    \tvar listEl = this.getList();\n    \tlistEl.classList.add('is-visible');\n    },\n\n    /**\n    * Speed dial list of options can be viewed in 4 different directions:\n    *   'up', 'down', 'left', 'right'\n    *   The CSS class responsible to handle the list of options direction is added\n    *   to the container\n    *\n    * @param { String } direction\n    */\n    setDirection: function(direction) {\n\n        // Clean the classList first\n    \tthis.container.classList.remove(\n            'speed-dial--' + this.settings.direction\n        );\n\n    \tswitch(direction) {\n    \t\tcase 'up':\n    \t\t\tthis.container.classList.add('speed-dial--up');\n    \t\t\tbreak;\n    \t\tcase 'down':\n    \t\t\tthis.container.classList.add('speed-dial--down');\n    \t\t\tbreak;\n    \t\tcase 'left':\n    \t\t\tthis.container.classList.add('speed-dial--left');\n    \t\t\tbreak;\n    \t\tcase 'right':\n    \t\t\tthis.container.classList.add('speed-dial--right');\n    \t\t\tbreak;\n    \t\tdefault:\n    \t\t\tthis.container.classList.add('speed-dial--up');\n    \t\t\tbreak;\n    \t}\n\n        // Update the settings object with the new direction\n        this.settings.direction = direction;\n\n        // Call an helper to set some style with Javascript\n    \tthis.styleUpdate();\n\n    },\n\n    // @return { String }\n    getDirection: function() {\n    \treturn this.settings.direction;\n    },\n\n    /**\n    * Left and right directions require some style computation\n    *   in order to properly show the list of options\n    */\n    styleUpdate: function() {\n    \tvar listEl = this.getList();\n    \tvar direction = this.getDirection();\n\n    \tswitch(direction) {\n    \t\tcase 'up':\n    \t\t\tbreak;\n    \t\tcase 'down':\n    \t\t\tbreak;\n    \t\tcase 'left':\n    \t\t\tlistEl.style.left = - listEl.offsetWidth + 'px';\n    \t\t\tbreak;\n    \t\tcase 'right':\n    \t\t\tlistEl.style.right = - listEl.offsetWidth + 'px';\n    \t\t\tbreak;\n    \t\tdefault:\n    \t\t\tbreak;\n    \t}\n    }\n\n};\n","import { SpeedDial } from './speeddial';\n\n/**\n* This is the function invoked for creating a new instance of speed dial button\n*\n* @param { String } selector This is the selector\n*   of the speed dial button container\n* @param { Object } options Object to override the default settings\n* @return { Object } Returns an object which exposes the\n*   SpeedDial public methods\n*/\nfunction index(selector, options) {\n\n    var sd = Object.create(SpeedDial);\n\n    sd.init(selector, options);\n\n    function getContainer() {\n    \treturn sd.getContainer();\n    }\n\n    function getButton() {\n    \treturn sd.getButton();\n    }\n\n    function getList() {\n    \treturn sd.getList();\n    }\n\n    function getDirection() {\n    \treturn sd.getDirection();\n    }\n\n    function setDirection(direction) {\n    \treturn sd.setDirection(direction);\n    }\n\n    function close() {\n    \treturn sd.close();\n    }\n\n    function open() {\n    \treturn sd.open();\n    }\n\n    // Return an object in a pseudo-module pattern way\n    return {\n    \tgetContainer: getContainer,\n    \tgetButton: getButton,\n    \tgetList: getList,\n    \tgetDirection: getDirection,\n    \tsetDirection: setDirection,\n    \tclose: close,\n    \topen: open\n    };\n}\n\nexport default index;\n"],"names":["babelHelpers.typeof"],"mappings":"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"}