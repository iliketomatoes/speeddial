{"version":3,"file":null,"sources":["../lib/utils.js","../lib/speeddial.js","../lib/index.js"],"sourcesContent":["/**\n* Deep-extends an object with another object\n*\n* @param { Object } a The object that will be extended, then returned\n* @param { Object } b The object that will extend the first paramter\n* @return { Object }\n*/\nexport function extend(a, b) {\n    for (var key in b) {\n        if (b.hasOwnProperty(key)) {\n            if (typeof b[key] === 'object' && b[key] !== null) {\n                a[key] = extend(a[key], b[key]);\n            } else {\n                a[key] = b[key];\n            }\n        }\n    }\n    return a;\n}\n\n/**\n* Utility function that throws an error if querySelector returns null\n*\n* @param { String } selector\n* @param { HTMLElement } context If not specified the default context is the\n*   whole document\n* @return { HTMLElement }\n*/\nexport function getElement(selector, context) {\n    let where = context || document;\n    let element = where.querySelector(selector);\n    try {\n        if (element === null) throw new Error(`SpeedDial could not find any ${selector}`);\n    } catch (err) {\n        console.error(err.message);\n    } finally {\n        return element;\n    }\n}\n","import { extend, getElement } from './utils';\n\n// Default settings\nvar defaults = {\n\n    // The actual speed dial button default class\n    button: '.speed-dial__btn',\n\n    // Default list of options class\n    list: '.speed-dial__list',\n\n    // Default list of options direction\n    direction: 'up'\n};\n\nexport const SpeedDial = {\n    /**\n    * Method called for initializing a new instance of SpeedDial\n    *\n    * @param { String } selector This is the selector\n    *   of the speed dial button container\n    * @param { Object } options Object to override the default settings\n    */\n    init: function(selector, options) {\n\n        // Override defauls\n        this.settings = extend(defaults, options);\n\n        /**\n        * Get the HTMLElement which contains both the button\n        *    and the list of options\n        */\n        this.container = getElement(selector);\n\n        if (this.container) {\n            this.bindEvents();\n            this.setDirection(this.settings.direction);\n        }\n    },\n\n    /**\n    * Get the container\n    *\n    * @return { HTMLElement }\n    */\n    getContainer: function() {\n    \treturn this.container;\n    },\n\n    /**\n    * Get the button which triggers the list of options to open/close\n    *\n    * @return { HTMLElement }\n    */\n    getButton: function() {\n        return getElement(this.settings.button, this.container);\n    },\n\n    /**\n    * Get the list which contains the speed dial options\n    *\n    * @return { HTMLElement }\n    */\n    getList: function() {\n        return getElement(this.settings.list, this.container);\n    },\n\n    // Add click listener to the speed-dial button\n    bindEvents: function() {\n        var btn = this.getButton();\n        btn.addEventListener('click', this.clickHandler.bind(this));\n    },\n\n    // Method called when speed-dial button is clicked\n    clickHandler: function() {\n    \tvar listEl = this.getList();\n\n\t\tif (listEl.classList.contains('is-visible')) {\n            // Close the list of options\n\t    \tlistEl.classList.remove('is-visible');\n\t\t} else {\n            // Open the list of options\n\t\t\tlistEl.classList.add('is-visible');\n\t\t}\n    },\n\n    // Close the list of options\n    close: function() {\n    \tvar listEl = this.getList();\n    \tlistEl.classList.remove('is-visible');\n    },\n\n    // Open the list of options\n    open: function() {\n    \tvar listEl = this.getList();\n    \tlistEl.classList.add('is-visible');\n    },\n\n    /**\n    * Speed dial list of options can be viewed in 4 different directions:\n    *   'up', 'down', 'left', 'right'\n    *   The CSS class responsible to handle the list of options direction is added\n    *   to the container\n    *\n    * @param { String } direction\n    */\n    setDirection: function(direction) {\n\n        // Clean the classList first\n    \tthis.container.classList.remove(\n            'speed-dial--' + this.settings.direction\n        );\n\n    \tswitch(direction) {\n    \t\tcase 'up':\n    \t\t\tthis.container.classList.add('speed-dial--up');\n    \t\t\tbreak;\n    \t\tcase 'down':\n    \t\t\tthis.container.classList.add('speed-dial--down');\n    \t\t\tbreak;\n    \t\tcase 'left':\n    \t\t\tthis.container.classList.add('speed-dial--left');\n    \t\t\tbreak;\n    \t\tcase 'right':\n    \t\t\tthis.container.classList.add('speed-dial--right');\n    \t\t\tbreak;\n    \t\tdefault:\n    \t\t\tthis.container.classList.add('speed-dial--up');\n    \t\t\tbreak;\n    \t}\n\n        // Update the settings object with the new direction\n        this.settings.direction = direction;\n\n        // Call an helper to set some style with Javascript\n    \tthis.styleUpdate();\n\n    },\n\n    // @return { String }\n    getDirection: function() {\n    \treturn this.settings.direction;\n    },\n\n    /**\n    * Left and right directions require some style computation\n    *   in order to properly show the list of options\n    */\n    styleUpdate: function() {\n    \tvar listEl = this.getList();\n    \tvar direction = this.getDirection();\n\n    \tswitch(direction) {\n    \t\tcase 'up':\n    \t\t\tbreak;\n    \t\tcase 'down':\n    \t\t\tbreak;\n    \t\tcase 'left':\n    \t\t\tlistEl.style.left = - listEl.offsetWidth + 'px';\n    \t\t\tbreak;\n    \t\tcase 'right':\n    \t\t\tlistEl.style.right = - listEl.offsetWidth + 'px';\n    \t\t\tbreak;\n    \t\tdefault:\n    \t\t\tbreak;\n    \t}\n    }\n\n};\n","import { SpeedDial } from './speeddial';\n\n/**\n* This is the function invoked for creating a new instance of speed dial button\n*\n* @param { String } selector This is the selector\n*   of the speed dial button container\n* @param { Object } options Object to override the default settings\n* @return { Object } Returns an object which exposes the\n*   SpeedDial public methods\n*/\nfunction index(selector, options) {\n\n    var sd = Object.create(SpeedDial);\n\n    sd.init(selector, options);\n\n    function getContainer() {\n    \treturn sd.getContainer();\n    }\n\n    function getButton() {\n    \treturn sd.getButton();\n    }\n\n    function getList() {\n    \treturn sd.getList();\n    }\n\n    function getDirection() {\n    \treturn sd.getDirection();\n    }\n\n    function setDirection(direction) {\n    \treturn sd.setDirection(direction);\n    }\n\n    function close() {\n    \treturn sd.close();\n    }\n\n    function open() {\n    \treturn sd.open();\n    }\n\n    // Return an object in a pseudo-module pattern way\n    return {\n    \tgetContainer: getContainer,\n    \tgetButton: getButton,\n    \tgetList: getList,\n    \tgetDirection: getDirection,\n    \tsetDirection: setDirection,\n    \tclose: close,\n    \topen: open\n    };\n}\n\nexport default index;\n"],"names":["extend","a","b","key","hasOwnProperty","babelHelpers.typeof","getElement","selector","context","where","document","element","querySelector","Error","err","error","message","defaults","SpeedDial","options","settings","container","bindEvents","setDirection","direction","button","list","btn","getButton","addEventListener","clickHandler","bind","listEl","getList","classList","contains","remove","add","styleUpdate","getDirection","style","left","offsetWidth","right","index","sd","Object","create","init","getContainer","close","open"],"mappings":"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"}